
<ion-content [fullscreen]=true class="calendardays">
  <ng-container [ngSwitch]="activePage" >
  <ion-content [fullscreen]=true *ngSwitchCase="'mainP'">
  <ion-toolbar>
    <ion-buttons slot="end" >
   
      <ion-button (click)="addToFav()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" *ngIf="favClicked" class="bi bi-star-fill" viewBox="0 0 16 16">
          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" *ngIf="!favClicked" class="bi bi-star" viewBox="0 0 16 16">
        <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
      </svg>
        <!-- <ion-icon id="stella" name="star"></ion-icon> -->
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()"><ion-icon name="arrow-back"></ion-icon></ion-button>
    </ion-buttons>
    <ion-title>{{pro.name}}</ion-title>
  </ion-toolbar>
<div class="card-body">
  
  <ion-slides pager="true">
    <ion-slide class="swiper-slide" *ngFor="let im of pro.images">
      <img src={{im}} />
    </ion-slide>
  </ion-slides>
  <div class="align-items-center p-2">
    <ion-label><b>Numero di telefono</b>: {{pro.phone}}</ion-label><br>
    <ion-label><b>Email</b>: {{pro.email}}</ion-label><br>
    <ion-label><b>Posizione</b>: {{pro.location}}</ion-label>
  </div>

  <div>
    <ion-list class="list-services">
      <ion-item *ngFor="let serv of pro.services; let i = index">
        <div class="d-flex align-items-center justify-content-between p-2">
        <ion-label class="mr-2">{{serv.name}}</ion-label>
        <ion-label>{{serv.price | currency: 'EUR':'symbol':undefined:'it'}}</ion-label>
      </div>
        <ion-toggle  slot="end" style="float: right;" [(ngModel)]="servState[i]" (ionChange)="isSelected($event, serv)"></ion-toggle>
      </ion-item>
    </ion-list>
  </div>

  <div>
    <button class="btn btn-dark btn-block" (click)="showCalendar()">Scegli orario</button>
  </div>
  </div>
</ion-content>
<ion-content [fullscreen]=true *ngSwitchCase="'calendar'" >
  <ion-toolbar>
    <ion-buttons slot="end" >
   
      <ion-button (click)="addToFav()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" *ngIf="favClicked" class="bi bi-star-fill" viewBox="0 0 16 16">
          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" *ngIf="!favClicked" class="bi bi-star" viewBox="0 0 16 16">
        <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
      </svg>
        <!-- <ion-icon id="stella" name="star"></ion-icon> -->
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()"><ion-icon name="arrow-back"></ion-icon></ion-button>
    </ion-buttons>
    <ion-title>{{pro.name}}</ion-title>
  </ion-toolbar>
  <div class="card">
    <div class="row">
  <ion-segment>
    <ion-segment-button class="segmentoBottone"
      (click)="setView(CalendarView.Month)"
      [class.active]="view === CalendarView.Month">
  <ion-label>Mese</ion-label>
    </ion-segment-button>
    <ion-segment-button class="segmentoBottone"
      (click)="setView(CalendarView.Week)"
      [class.active]="view === CalendarView.Week">
  <ion-label> Settimana</ion-label>
    </ion-segment-button>
    <ion-segment-button class="segmentoBottone"
      (click)="setView(CalendarView.Day)"
      [class.active]="view === CalendarView.Day">
      <ion-label>Giorno</ion-label>
  </ion-segment-button>
  </ion-segment>
  </div>
<div class="row d-flex align-items-center justify-content-center buttons">
  <div class="col-2 p-0 d-flex justify-content-center buttons">
    <ion-button
    fill="dark"
      mwlCalendarPreviousView
      [view]="view"
      [(viewDate)]="viewDate"
      (viewDateChange)="closeOpenMonthViewDay()" class="text-center">
      <ion-icon class="freccia" name="arrow-back" slot="icon-only"></ion-icon>
    </ion-button>
  </div>
<ion-col size="7" class="d-flex justify-content-center">
  <h2>{{ viewDate | calendarDate:(view + 'ViewTitle'):'it' }}</h2>
</ion-col>
  <div class="col-2 p-0 d-flex justify-content-center">
    <ion-button
      fill="dark"
        mwlCalendarNextView
        [view]="view"
        [(viewDate)]="viewDate"
        (viewDateChange)="closeOpenMonthViewDay()"  class="text-center">
      <ion-icon class="freccia" name="arrow-forward" slot="icon-only"></ion-icon>
      
      </ion-button>
</div>
</div>
<div [ngSwitch]="view">
<mwl-calendar-month-view
  *ngSwitchCase="CalendarView.Month"
  [viewDate]="viewDate"
  [events]="userEvents"
  [refresh]="refresh"
  [activeDayIsOpen]="activeDayIsOpen"
  (dayClicked)="dayClicked($event.day)"
  
  ></mwl-calendar-month-view><!--
    (beforeViewRender)="beforeMonthViewRender($event)"
  (eventClicked)="handleEvent('Clicked', $event.event)"
  (eventTimesChanged)="eventTimesChanged($event)"-->
<mwl-calendar-week-view
  *ngSwitchCase="CalendarView.Week"
  [viewDate]="viewDate"
  [events]="events"
  [refresh]="refresh"
  [dayStartHour]="dayStartHour"
  [dayEndHour]="dayEndHour"
  (eventClicked)="handleEvent($event.event.start)"
  [hourSegments]="2"
  [excludeDays]="excludeDays"
  (hourSegmentClicked)="hourSegmentClicked($event.date)"
  (beforeViewRender)="beforeWeekOrDayViewRender($event)"
  ></mwl-calendar-week-view>        <!--(eventClicked)="handleEvent('Clicked', $event.event)"
  (eventTimesChanged)="eventTimesChanged($event)"-->
  <mwl-calendar-day-view
  *ngSwitchCase="CalendarView.Day"
  [viewDate]="viewDate"
  [events]="events"
  [refresh]="refresh"
  [dayStartHour]="dayStartHour"
  [dayEndHour]="dayEndHour"
  [hourSegments]="2"
  (hourSegmentClicked)="hourSegmentClicked($event.date)"
  (beforeViewRender)="beforeWeekOrDayViewRender($event)"
  (eventClicked)="handleEvent($event.event.start)"
  ></mwl-calendar-day-view>        <!--
  (eventTimesChanged)="eventTimesChanged($event)"-->
</div>


<!-- 
<ion-fab vertical="bottom" horizontal="end" slot="fixed">
<ion-fab-button (click)="addModalEvent()" color="dark">
<ion-icon name="add-outline"></ion-icon>
</ion-fab-button>
</ion-fab> -->
</div>
</ion-content>
</ng-container>
</ion-content>